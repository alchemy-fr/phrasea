alchemy_admin:
  service:
    title: Databox
    name: databox

easy_admin:
  design:
    form_theme:
      - '@EasyAdmin/form/bootstrap_4.html.twig'
      - 'form/ace_editor.html.twig'
      - '@AlchemyWebhookBundle/views/form.html.twig'
    menu:
      - label: 'Permissions'
        children:
          - { label: 'Asset permissions', route: admin_global_permissions, params: {type: asset} }
          - { label: 'Collection permissions', route: admin_global_permissions, params: {type: collection} }
          - { label: 'Workspace permissions', route: admin_global_permissions, params: {type: workspace} }
          - { label: 'All permissions (advanced)', entity: AccessControlEntry }
          - { label: 'Access tokens', entity: AccessToken }
      - label: 'Core'
        children:
          - Workspace
          - Collection
          - Asset
          - File
          - Attribute
          - AssetTitleAttribute
          - AttributeDefinition
          - AttributeClass
          - Tag
          - TagFilterRule
          - AssetRendition
          - RenditionDefinition
          - RenditionClass
          - RenditionRule
          - AlternateUrl
      - label: 'Admin'
        children:
          - PopulatePass
          - ESIndexState
      - OAuthClient
      - label: 'Dev'
        children:
          - FailedEvent
          - { label: 'PHP Info', route: 'alchemy_admin_phpinfo' }
      - label: 'Webhooks'
        children:
          - Webhook
          - WebhookLog
  entities:
    Asset:
      class: App\Entity\Core\Asset
      list:
        max_results: 200
        actions:
          - permissions
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        filters: ['workspace']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'title', label: Title }
          - { property: 'workspace' }
          - { property: 'privacy', template: 'admin/field_privacy.html.twig' }
          - { property: 'collections.count', label: '# Colls' }
          - { property: 'file' }
          - { property: 'key' }
          - createdAt
      edit:
        fields:
          - { property: 'title', label: Title }
          - { property: 'workspace' }
          - { property: 'tags' }
          - { property: 'startingCollections', label: Collections, type: App\Form\CollectionAssetType, type_options: { expanded: false, disabled: true } }
          - { property: 'privacy', type: App\Form\PrivacyChoiceType }
          - { property: 'ownerId', type: Alchemy\AdminBundle\Form\UserChoiceType }
          - workspace
      new:
        fields:
          - { property: 'title', label: Title }
          - { property: 'workspace' }
          - { property: 'startingCollections', label: Add to collections, type: App\Form\CollectionAssetType }
          - { property: 'tags' }
          - { property: 'privacy', type: App\Form\PrivacyChoiceType }
          - { property: 'ownerId', type: Alchemy\AdminBundle\Form\UserChoiceType }
          - workspace

    AssetTitleAttribute:
      class: App\Entity\Core\AssetTitleAttribute
      list:
        max_results: 200
        filters: ['workspace', 'definition']
        sort: [workspace, DESC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'definition' }
          - { property: 'priority' }
          - { property: 'overrides' }
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'definition' }
          - { property: 'priority', help: 'Higher value is more prioritized' }
          - { property: 'overrides' }

    File:
      class: App\Entity\Core\File
      list:
        max_results: 200
        filters: ['workspace', 'storage']
        sort: [createdAt, DESC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'path', label: Title }
          - { property: 'storage' }
          - { property: 'workspace' }
          - createdAt

    Collection:
      class: App\Entity\Core\Collection
      list:
        max_results: 100
        actions:
          - permissions
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        filters: ['workspace']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'title' }
          - { property: 'parent', label: Parent }
          - { property: 'workspace' }
          - { property: 'privacy', template: 'admin/field_privacy.html.twig' }
          - createdAt
      form:
        fields:
          - { property: 'title' }
          - { property: 'workspace' }
          - { property: 'parent' }
          - { property: 'privacy', type: App\Form\PrivacyChoiceType }
          - { property: 'ownerId', type: Alchemy\AdminBundle\Form\UserChoiceType }

    Workspace:
      class: App\Entity\Core\Workspace
      list:
        max_results: 100
        actions:
          - permissions
        sort: [name, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'name' }
          - { property: 'slug' }
          - { property: 'enabledLocales', type: array }
          - { property: 'localeFallbacks', type: array }
          - updatedAt
          - createdAt
      form:
        fields:
          - { property: 'name' }
          - { property: 'slug' }
          - { property: 'ownerId', type: Alchemy\AdminBundle\Form\UserChoiceType }
          - { property: 'enabledLocales', type: collection }
          - { property: 'localeFallbacks', type: collection }
          - { property: 'phraseanetDataboxId', type: number }

    RenditionDefinition:
      class: App\Entity\Core\RenditionDefinition
      list:
        batch_actions:
          - delete
        max_results: 100
        sort: [workspace, ASC]
        filters: ['workspace', 'name']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'class' }
          - { property: 'useAsOriginal', label: Original }
          - { property: 'useAsPreview', label: Preview }
          - { property: 'useAsThumbnail', label: Thumbnail }
          - { property: 'useAsThumbnailActive', label: Thumb Active }
          - { property: 'priority' }
          - createdAt
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'class' }
          - { property: 'useAsOriginal' }
          - { property: 'useAsPreview' }
          - { property: 'useAsThumbnail' }
          - { property: 'useAsThumbnailActive' }
          - { property: 'priority', help: 'Higher value is more prioritized' }

    AssetRendition:
      class: App\Entity\Core\AssetRendition
      list:
        actions:
          - '-new'
          - '-edit'
        batch_actions:
          - delete
        max_results: 100
        filters: ['definition', 'asset']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'definition', label: Definition }
          - { property: 'asset' }
          - { property: 'file.id', label: 'File', template: '@AlchemyAdmin/list/id.html.twig' }
          - updatedAt
          - createdAt

    RenditionClass:
      class: App\Entity\Core\RenditionClass
      list:
        batch_actions:
          - delete
        max_results: 100
        sort: [workspace, ASC]
        filters: ['workspace', 'name']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'public' }
          - createdAt
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'public' }

    RenditionRule:
      class: App\Entity\Core\RenditionRule
      list:
        batch_actions:
          - delete
        max_results: 100
        sort: [createdAt, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'userType' }
          - { property: 'userId' }
          - { property: 'objectType' }
          - { property: 'objectId', type: string }
          - { property: 'allowed' }
          - createdAt
      form:
        fields:
          - { property: 'userType', type: App\Form\UserTypeType }
          - { property: 'userId' }
          - { property: 'objectType', type: App\Form\ObjectTypeType }
          - { property: 'objectId' }
          - { property: 'allowed' }

    Tag:
      class: App\Entity\Core\Tag
      list:
        batch_actions:
          - delete
        max_results: 100
        sort: [name, ASC]
        filters: ['workspace']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'name' }
          - createdAt
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'name' }

    TagFilterRule:
      class: App\Entity\Core\TagFilterRule
      list:
        actions:
          - '-new'
        batch_actions:
          - delete
        max_results: 100
        sort: [createdAt, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'userType' }
          - { property: 'userId' }
          - { property: 'objectType' }
          - { property: 'objectId', type: string }
          - { property: 'include' }
          - { property: 'exclude' }
          - createdAt

    Attribute:
      class: App\Entity\Core\Attribute
      list:
        actions:
          - '-new'
        batch_actions:
          - delete
        max_results: 100
        sort: [createdAt, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'asset' }
          - { property: 'definition' }
          - { property: 'value', type: string }
          - { property: 'locale' }
          - createdAt
      form:
        fields:
          - { property: 'definition' }
          - { property: 'value' }
          - { property: 'locale' }
          - { property: 'origin' }
          - { property: 'originVendor' }
          - { property: 'originVendorContext' }

    AttributeDefinition:
      class: App\Entity\Core\AttributeDefinition
      list:
        max_results: 100
        filters: ['workspace', 'searchable', 'multiple', 'fieldType', 'fileType' ]
        sort: [name, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'class' }
          - { property: 'name' }
          - { property: 'fileType' }
          - { property: 'fieldType' }
          - { property: 'multiple', type: boolean }
          - { property: 'facetEnabled', label: 'Facet' }
          - { property: 'searchable', type: boolean }
          - createdAt
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'class' }
          - { property: 'name' }
          - { property: 'fileType' }
          - { property: 'fieldType', type: App\Form\Type\AttributeTypeChoiceType }
          - { property: 'allowInvalid' }
          - { property: 'translatable' }
          - { property: 'multiple' }
          - { property: 'searchable' }
          - { property: 'searchBoost', type: number }
          -
            property: fallbackAll
            label: "Fallback value template (no locale)"
            type: App\Form\Type\AceEditorType # TODO use https://github.com/heygrady/ace-mode-twig
            type_options:
              help: 'i.e. Dimensions are: {{ file.width }}x{{ file.height }}'
          -
            property: fallbackEN
            label: "Fallback value template EN"
            type: App\Form\Type\AceEditorType # TODO use https://github.com/heygrady/ace-mode-twig
            type_options:
              help: 'i.e. Dimensions are: {{ file.width }}x{{ file.height }}'
          -
            property: fallbackFR
            label: "Fallback value template FR"
            type: App\Form\Type\AceEditorType # TODO use https://github.com/heygrady/ace-mode-twig
            type_options:
              help: 'ex. Les dimensions sont : {{ file.width }}x{{ file.height }}'

    AttributeClass:
      class: App\Entity\Core\AttributeClass
      list:
        actions:
          - permissions
        batch_actions:
          - delete
        max_results: 100
        sort: [workspace, ASC]
        filters: ['workspace', 'name', 'public', 'editable']
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'public' }
          - { property: 'editable' }
          - createdAt
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'name' }
          - { property: 'public' }
          - { property: 'editable' }

    AccessToken:
      class: Alchemy\OAuthServerBundle\Entity\AccessToken
      list:
        actions:
          - '-new'
          - '-edit'
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        fields:
          - user
          - token
          - scope
          - createdAt
      search:
        sort: ['createdAt', 'ASC']
        fields:
          - token

    AlternateUrl:
      class: App\Entity\Core\AlternateUrl
      list:
        filters: ['workspace']
        batch_actions:
          - delete
        sort: [workspace, ASC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - workspace
          - type
          - label
      form:
        fields:
          - { property: 'workspace' }
          - { property: 'type' }
          - { property: 'label' }

    PopulatePass:
      class: App\Entity\Admin\PopulatePass
      list:
        actions:
          - '-edit'
          - show
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'indexName', label: 'Index' }
          - { property: 'progressString', label: Progress }
          - { property: 'timeTakenUnit', label: 'Time taken' }
          - { property: 'endedAt' }
          - { property: 'successful', type: boolean }
          - { property: 'error' }
          - { property: 'createdAt' }

        show:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'indexName', label: 'Index' }
          - { property: 'timeTakenUnit', label: 'Time taken' }
          - { property: 'mapping' }
          - { property: 'endedAt' }
          - { property: 'createdAt' }

    ESIndexState:
      class: App\Entity\Admin\ESIndexState
      list:
        actions:
          - '-new'
          - '-edit'
          - show
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        fields:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'indexName', label: 'Index' }
          - { property: 'createdAt' }
          - { property: 'updatedAt' }

        show:
          - { property: id, template: '@AlchemyAdmin/list/id.html.twig' }
          - { property: 'indexName', label: 'Index' }
          - { property: 'mapping' }
          - { property: 'createdAt' }
          - { property: 'updatedAt' }
