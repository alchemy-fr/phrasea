resources:
  App\Entity\Core\RenditionDefinition:
    shortName: rendition-definition
    attributes:
      order:
        priority: DESC
      normalization_context:
        groups:
          - renddef:index
      denormalization_context:
        groups:
          - renddef:write
    itemOperations:
      get:
        security: 'is_granted("READ", object)'
      delete:
        security: 'is_granted("DELETE", object)'
      put:
        security: 'is_granted("EDIT", object)'
      patch:
        security: 'is_granted("EDIT", object)'
    collectionOperations:
      get: ~
      post:
        security_post_denormalize: 'is_granted("CREATE", object)'
      put_sort:
        method: put
        path: /rendition-definitions/sort
        controller: App\Controller\Core\RenditionDefinitionSortAction
        output: false
        input: false
        openapi_context:
          summary: Reorder items
          description: Reorder items
          requestBody:
            content:
              application/json:
                schema:
                  description: Ordered list of IDs
                  type: array
                  items:
                    type: string
