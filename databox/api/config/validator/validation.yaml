App\Entity\Core\Asset:
  properties:
    title:
      - NotBlank: ~
    workspace:
      - NotNull: ~

App\Entity\Core\Collection:
  properties:
    title:
      - NotBlank: ~
      - Length:
          max: 255
    workspace:
      - NotNull: ~

App\Entity\Core\Workspace:
  properties:
    name:
      - NotBlank: ~
    enabledLocales:
      - All:
        - NotBlank: ~
        - Regex:
            message: 'Invalid locale format, must match "fr" or "fr_FR"'
            pattern: '#^[a-z]{2}(_[A-Z]{2})?$#'

App\Entity\Core\Attribute:
  properties:
    definition:
      - NotNull: ~
    value:
      - NotNull: ~
    origin:
      - NotNull: ~

App\Entity\Core\AttributeDefinition:
  properties:
    workspace:
      - NotNull: ~
    name:
      - NotNull: ~
      - NotBlank: ~

App\Entity\Core\CollectionAsset:
  constraints:
    - App\Validator\SameWorkspaceConstraint:
        properties:
          - asset.workspace
          - collection.workspace

App\Entity\Core\AssetRendition:
  constraints:
    - App\Validator\SameWorkspaceConstraint:
        properties:
          - asset.workspace
          - file.workspace
          - definition.workspace

App\Entity\Core\RenditionDefinition:
  constraints:
    - App\Validator\SameWorkspaceConstraint:
        properties:
          - workspace
          - class.workspace
  properties:
    priority:
      - NotNull: ~

App\Entity\Core\RenditionClass:
  constraints:
    - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity:
        fields:
          - workspace
          - name
        errorPath: name
  properties:
    name:
      - NotNull: ~

App\Entity\Core\TagFilterRule:
  constraints:
    - App\Validator\TagFilterRuleConstraint: ~

App\Border\Model\Upload\IncomingUpload:
  properties:
    commit_id:
      - NotBlank: ~
    publisher:
      - NotBlank: ~
    token:
      - NotBlank: ~
    base_url:
      - NotBlank: ~
    assets:
      - NotNull: ~
      - Count:
          min: 1
