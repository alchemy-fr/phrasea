name: incoming-uploader-file

on:
  incoming_uploader_file:
    inputs:
      baseUrl:
        required: true
      assetId:
        required: true
      token:
        required: true

jobs:
  border:
    steps:
      - id: accept_file
        uses: App\Workflow\JobHandler\AcceptFileJob
    outputs:
      fileId: ${{ steps.accept_file.outputs.fileId }}

  uploader_ack:
    needs: [border]
    steps:
      - uses: App\Workflow\JobHandler\UploaderAckAssetJob

  assign_file_to_asset:
    needs: [border]
    steps:
      - uses: App\Workflow\JobHandler\UploaderAckAssetJob
