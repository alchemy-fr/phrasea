resources:
  App\Entity\Asset:
    collectionOperations:
      post:
        controller: App\Controller\CreateAssetAction
        defaults:
          _api_receive: false
        validation_groups:
          - Default
          - asset_create
        openapi_context:
          requestBody:
            content:
              application/json:
                examples:
                  Multipart upload:
                    value:
                      targetId: 8ad69673-e1cc-4081-8201-20677e9f9e9c
                      multipart:
                        uploadId: 123-456
                        parts:
                        - ETag: 812d692260ab94dd85a5aa7a6caef68d
                          PartNumber: 1
                        - ETag: 4dd85a5aa7a6caef68d812d692260ab9
                          PartNumber: 2
                schema:
                  oneOf:
                    -
                      type: object
                      properties:
                        targetId:
                          type: string
                        multipart:
                          type: object
                          properties:
                            uploadId:
                              type: string
                            parts:
                              type: array
                              items:
                                type: object
                                properties:
                                  ETag:
                                    type: string
                                  PartNumber:
                                    type: integer
                    -
                      type: object
                      properties:
                        targetId:
                          type: string
                        upload:
                          type: object
                          properties:
                            name:
                              type: string
                            type:
                              type: string
                            size:
                              type: integer
              multipart/form-data:
                schema:
                  type: object
                  properties:
                    targetId:
                      type: string
                    file:
                      type: string
                      format: binary
