alchemy_admin:
  service:
    title: Auth
    name: auth

easy_admin:
  design:
    menu:
      - label: 'Users'
        children:
          - User
          - Group
          - AccessToken
      - label: 'Dev'
        children:
          - FailedEvent
          - { label: 'PHP Info', route: 'alchemy_admin_phpinfo' }
  entities:
    User:
      templates:
        list: 'admin/User/list.html.twig'
      class: App\Entity\User
      list:
        batch_actions:
          - delete
        actions:
          - invite
        filters:
        - { property: 'enabled' }
        sort: [createdAt, DESC]
        fields:
          - username
          - enabled
          - { property: groups, sortable: false }
          - { property: userRoles, type: array, sortable: false }
          - createdAt
      search:
        sort: ['username', 'ASC']
        fields:
          - username
      form:
        fields:
          - { property: 'username' }
          - { property: 'userRoles', type: App\Form\RoleChoiceType }
          - { property: 'enabled' }
          - { property: 'groups', type_options: { expanded: true, multiple: true } }
      new:
        fields:
          - { property: inviteByEmail, type: checkbox }

    Group:
      class: App\Entity\Group
      list:
        batch_actions:
          - delete
        sort: [name, DESC]
        fields:
          - name
          - { property: roles, type: array, sortable: false }
          - { property: 'userCount' }
          - createdAt
      search:
        sort: ['name', 'ASC']
        fields:
          - name
      form:
        fields:
          - { property: 'name' }
          - { property: 'roles', type: App\Form\RoleChoiceType }

    AccessToken:
      class: Alchemy\OAuthServerBundle\Entity\AccessToken
      list:
        actions:
          - '-new'
          - '-edit'
        batch_actions:
          - delete
        sort: [createdAt, DESC]
        fields:
          - user
          - token
          - scope
          - createdAt
      search:
        sort: ['createdAt', 'ASC']
        fields:
          - token
