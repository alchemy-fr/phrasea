{{- with .Values.expose }}
{{- if .enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: expose-client-config
data:
  DEV_MODE: "0"
  SIDEBAR_DEFAULT_OPEN: {{ ternary "true" "false" .client.sidebarDefaultOpen | quote }}
  EXPOSE_REQUEST_SIGNATURE_TTL: {{ .api.config.requestSignatureTtl | quote }}
  MAPBOX_TOKEN: {{ required "Missing mapbox token at expose.client.mapbox.token" .client.mapbox.token | quote }}
  {{- if .zippy.enabled }}
  ZIPPY_BASE_URL: {{ required "Missing expose.zippy.baseUrl" .zippy.baseUrl | quote }}
  {{- end }}
{{- end }}
{{- end }}
