{{- range .Values._internal.services }}
{{ $appName := . }}
{{- if and (index $.Values $appName).enabled (index $.Values $appName).admin_oauth_client }}
{{- with (index $.Values .)  }}
{{- if not .admin_oauth_client.use_secret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ $appName }}-admin-oauth-client-secret
stringData:
  ADMIN_CLIENT_ID: {{ quote .admin_oauth_client.id }}
  ADMIN_CLIENT_RANDOM_ID: {{ quote .admin_oauth_client.random_id }}
  ADMIN_CLIENT_SECRET: {{ quote .admin_oauth_client.secret }}
---
{{- end }}
{{- end }}
{{- end }}
{{- end }}
