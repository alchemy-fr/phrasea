{{- if .Values.expose.enabled }}
{{- with .Values.expose.api.config }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: expose-api-config
data:
  S3_STORAGE_ENDPOINT: {{ tpl .s3storage.endpoint }}
  S3_STORAGE_BASE_URL: {{ tpl .s3storage.baseUrl . | quote }}
  S3_STORAGE_BUCKET_NAME: {{ .s3storage.bucketName | quote }}
  S3_STORAGE_CNAME_IS_BUCKET: {{ ternary "\"true\"" "\"false\"" .s3storage.cnameIsBucket }}
  EXPOSE_REQUEST_SIGNATURE_TTL: {{ .exposeRequestSignatureTtl | quote }}
{{- end }}
{{- end }}
